{"ast":null,"code":"import { createAction, createReducer } from \"@reduxjs/toolkit\";\nexport const addToCard = createAction('card/add');\nexport const removeFromCard = createAction('card/remove');\nexport const goodsReducer = createReducer({\n  value: localStorage.getItem(\"cart\") === null ? 0 : JSON.parse(localStorage.getItem(\"cart\")),\n  goods: localStorage.getItem(\"goods\") === null ? [] : JSON.parse(localStorage.getItem(\"goods\"))\n}, builder => {\n  builder.addCase(addToCard, (state, action) => {\n    state.goods = [...state.goods, action.payload];\n    state.value += action.payload.price;\n    localStorage.setItem('goods', JSON.stringify(state.goods));\n  }).addCase(removeFromCard, (state, action) => {\n    state.goods = state.goods.filter(g => g.id !== action.payload.id);\n    state.value -= action.payload.price;\n    localStorage.setItem('goods', JSON.stringify(state.goods));\n  });\n});\nexport const selectGoods = state => state.goods.goods;\nexport const selectCount = state => state.goods.value;","map":{"version":3,"names":["createAction","createReducer","addToCard","removeFromCard","goodsReducer","value","localStorage","getItem","JSON","parse","goods","builder","addCase","state","action","payload","price","setItem","stringify","filter","g","id","selectGoods","selectCount"],"sources":["D:/launcher/src/reducers/goodsReducer.jsx"],"sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nexport const addToCard = createAction('card/add');\r\nexport const removeFromCard = createAction('card/remove');\r\n\r\nexport const goodsReducer = createReducer({value: localStorage.getItem(\"cart\") === null ? 0 : JSON.parse(localStorage.getItem(\"cart\")), goods: localStorage.getItem(\"goods\") === null ? [] : JSON.parse(localStorage.getItem(\"goods\"))}, builder => {\r\n    builder.addCase(addToCard, (state, action) => {\r\n        state.goods = [...state.goods, action.payload];\r\n        state.value += action.payload.price;\r\n        localStorage.setItem('goods', JSON.stringify(state.goods));\r\n    }).addCase(removeFromCard, (state, action) => {\r\n        state.goods = state.goods.filter((g) => g.id !== action.payload.id);\r\n        state.value -= action.payload.price\r\n        localStorage.setItem('goods', JSON.stringify(state.goods));\r\n    })\r\n})\r\n\r\nexport const selectGoods = (state) => state.goods.goods\r\nexport const selectCount = (state) => state.goods.value;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,kBAAkB;AAE9D,OAAO,MAAMC,SAAS,GAAGF,YAAY,CAAC,UAAU,CAAC;AACjD,OAAO,MAAMG,cAAc,GAAGH,YAAY,CAAC,aAAa,CAAC;AAEzD,OAAO,MAAMI,YAAY,GAAGH,aAAa,CAAC;EAACI,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,GAAG,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAAEG,KAAK,EAAEJ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,GAAG,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAAC,CAAC,EAAEI,OAAO,IAAI;EAChPA,OAAO,CAACC,OAAO,CAACV,SAAS,EAAE,CAACW,KAAK,EAAEC,MAAM,KAAK;IAC1CD,KAAK,CAACH,KAAK,GAAG,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAEI,MAAM,CAACC,OAAO,CAAC;IAC9CF,KAAK,CAACR,KAAK,IAAIS,MAAM,CAACC,OAAO,CAACC,KAAK;IACnCV,YAAY,CAACW,OAAO,CAAC,OAAO,EAAET,IAAI,CAACU,SAAS,CAACL,KAAK,CAACH,KAAK,CAAC,CAAC;EAC9D,CAAC,CAAC,CAACE,OAAO,CAACT,cAAc,EAAE,CAACU,KAAK,EAAEC,MAAM,KAAK;IAC1CD,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACH,KAAK,CAACS,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKP,MAAM,CAACC,OAAO,CAACM,EAAE,CAAC;IACnER,KAAK,CAACR,KAAK,IAAIS,MAAM,CAACC,OAAO,CAACC,KAAK;IACnCV,YAAY,CAACW,OAAO,CAAC,OAAO,EAAET,IAAI,CAACU,SAAS,CAACL,KAAK,CAACH,KAAK,CAAC,CAAC;EAC9D,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,OAAO,MAAMY,WAAW,GAAIT,KAAK,IAAKA,KAAK,CAACH,KAAK,CAACA,KAAK;AACvD,OAAO,MAAMa,WAAW,GAAIV,KAAK,IAAKA,KAAK,CAACH,KAAK,CAACL,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}