{"ast":null,"code":"import { createAction, createReducer } from \"@reduxjs/toolkit\";\nexport const addToCard = createAction('card/add');\nexport const removeFromCard = createAction('card/remove');\nexport const goodsReducer = createReducer({\n  goods: localStorage.getItem(\"goods\") === null ? [] : JSON.parse(localStorage.getItem(\"goods\"))\n}, builder => {\n  builder.addCase(addToCard, (state, action) => {\n    state.goods = [...state.goods, action.payload];\n    localStorage.setItem('goods', JSON.stringify(state.goods));\n  }).addCase(removeFromCard, (state, action) => {\n    state.goods = state.goods.filter(g => g.id !== action.payload);\n    localStorage.setItem('goods', JSON.stringify(state.goods));\n  });\n});\nexport const selectGoods = state => state.goods.goods;","map":{"version":3,"names":["createAction","createReducer","addToCard","removeFromCard","goodsReducer","goods","localStorage","getItem","JSON","parse","builder","addCase","state","action","payload","setItem","stringify","filter","g","id","selectGoods"],"sources":["D:/launcher/src/reducers/goodsReducer.jsx"],"sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nexport const addToCard = createAction('card/add');\r\nexport const removeFromCard = createAction('card/remove');\r\n\r\nexport const goodsReducer = createReducer({goods: localStorage.getItem(\"goods\") === null ? [] : JSON.parse(localStorage.getItem(\"goods\"))}, builder => {\r\n    builder.addCase(addToCard, (state, action) => {\r\n        state.goods = [...state.goods, action.payload];\r\n        localStorage.setItem('goods', JSON.stringify(state.goods));\r\n    }).addCase(removeFromCard, (state, action) => {\r\n        state.goods = state.goods.filter((g) => g.id !== action.payload)\r\n        localStorage.setItem('goods', JSON.stringify(state.goods));\r\n    })\r\n})\r\n\r\nexport const selectGoods = (state) => state.goods.goods"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,kBAAkB;AAE9D,OAAO,MAAMC,SAAS,GAAGF,YAAY,CAAC,UAAU,CAAC;AACjD,OAAO,MAAMG,cAAc,GAAGH,YAAY,CAAC,aAAa,CAAC;AAEzD,OAAO,MAAMI,YAAY,GAAGH,aAAa,CAAC;EAACI,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,GAAG,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAAC,CAAC,EAAEG,OAAO,IAAI;EACnJA,OAAO,CAACC,OAAO,CAACT,SAAS,EAAE,CAACU,KAAK,EAAEC,MAAM,KAAK;IAC1CD,KAAK,CAACP,KAAK,GAAG,CAAC,GAAGO,KAAK,CAACP,KAAK,EAAEQ,MAAM,CAACC,OAAO,CAAC;IAC9CR,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAACJ,KAAK,CAACP,KAAK,CAAC,CAAC;EAC9D,CAAC,CAAC,CAACM,OAAO,CAACR,cAAc,EAAE,CAACS,KAAK,EAAEC,MAAM,KAAK;IAC1CD,KAAK,CAACP,KAAK,GAAGO,KAAK,CAACP,KAAK,CAACY,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKN,MAAM,CAACC,OAAO,CAAC;IAChER,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAACJ,KAAK,CAACP,KAAK,CAAC,CAAC;EAC9D,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,OAAO,MAAMe,WAAW,GAAIR,KAAK,IAAKA,KAAK,CAACP,KAAK,CAACA,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}